# 生成正确的密码哈希

## 方法1：通过现有系统生成（推荐）

### 步骤1：注册一个临时账号
```bash
# 使用 Postman 或 curl
POST http://localhost:8080/api/auth/register
Content-Type: application/json

{
  "username": "temp_admin",
  "password": "admin123",
  "email": "temp@example.com"
}
```

### 步骤2：查看数据库中的密码哈希
```sql
SELECT username, password FROM user_account WHERE username = 'temp_admin';
```

### 步骤3：复制这个哈希值，创建真正的管理员
```sql
-- 使用刚才查到的密码哈希
INSERT INTO user_account (username, password, role, email, enabled)
VALUES ('admin', '这里粘贴从temp_admin复制的password', 'SUPER_ADMIN', 'admin@example.com', true);

-- 删除临时账号
DELETE FROM user_account WHERE username = 'temp_admin';
```

---

## 方法2：直接升级现有账号（最简单）

### 步骤1：先注册一个普通账号
```bash
POST http://localhost:8080/api/auth/register
Content-Type: application/json

{
  "username": "admin",
  "password": "admin123",
  "email": "admin@example.com"
}
```

### 步骤2：在数据库中升级为超级管理员
```sql
UPDATE user_account 
SET role = 'SUPER_ADMIN' 
WHERE username = 'admin';
```

### 步骤3：现在可以用 admin/admin123 登录了
```bash
POST http://localhost:8080/api/auth/login
Content-Type: application/json

{
  "username": "admin",
  "password": "admin123"
}
```

---

## 方法3：使用标准的BCrypt哈希（如果你的系统支持）

如果你的系统使用的是标准的 BCrypt 配置（10轮），可以直接使用这些哈希：

```sql
-- 密码：admin123
INSERT INTO user_account (username, password, role, email, enabled)
VALUES ('admin', '$2a$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi', 
        'SUPER_ADMIN', 'admin@example.com', true);

-- 或者密码：123456
INSERT INTO user_account (username, password, role, email, enabled)
VALUES ('admin', '$2a$10$CwTycUXWue0Thq9StjUM0uJ8hgZqNgBw6b8YXqfZ5F.Z8YqKXqjGC', 
        'SUPER_ADMIN', 'admin@example.com', true);
```

**注意**：这些哈希是在线生成的标准值，可能与你的系统配置不兼容。

---

## 推荐操作流程

**最可靠的方法是方法2**：

1. ✅ 启动你的 Spring Boot 应用
2. ✅ 用 Postman 调用注册接口，创建 `admin` 账号
3. ✅ 去数据库把 `role` 改为 `SUPER_ADMIN`
4. ✅ 用 `admin/admin123` 登录

这样可以保证密码哈希与你的系统完全兼容！

---

## 验证登录

登录成功后应该返回：
```json
{
  "code": 200,
  "message": "返回成功",
  "data": {
    "token": "eyJhbGciOiJIUzI1NiJ9...",
    "tokenType": "Bearer",
    "expiresIn": 3600000
  }
}
```
