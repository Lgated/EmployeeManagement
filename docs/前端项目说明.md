# APJ员工管理系统 - 前端项目说明

## 📦 项目概述

这是一个完整的React前端项目，与Spring Boot后端API完全对接，实现了员工管理系统的所有功能。

## 🎯 已实现功能

### ✅ 用户认证
- [x] 用户登录
- [x] 用户注册
- [x] Token管理（自动保存、自动添加到请求头）
- [x] 路由守卫（未登录自动跳转）
- [x] 退出登录

### ✅ 员工管理
- [x] 员工列表展示（表格形式）
- [x] 按姓名搜索
- [x] 按部门筛选
- [x] 新增员工
- [x] 编辑员工信息
- [x] 删除员工（带确认提示）
- [x] 分页显示
- [x] 响应式设计

### ✅ 数据统计
- [x] 各部门员工数量统计
- [x] 各部门平均薪资统计
- [x] 总员工数统计
- [x] 平均薪资统计

## 📁 项目结构详解

```
frontend/
├── src/
│   ├── api/                    # API接口层
│   │   ├── auth.ts            # 认证API（登录、注册）
│   │   └── employee.ts        # 员工管理API（CRUD、统计）
│   │
│   ├── components/            # 公共组件
│   │   └── Layout.tsx        # 主布局（侧边栏、顶部导航、内容区）
│   │
│   ├── pages/                 # 页面组件
│   │   ├── Login.tsx         # 登录页
│   │   ├── Register.tsx      # 注册页
│   │   ├── EmployeeList.tsx  # 员工列表页
│   │   ├── EmployeeForm.tsx  # 员工表单页（新增/编辑）
│   │   └── Statistics.tsx    # 统计页
│   │
│   ├── stores/                # 状态管理（Zustand）
│   │   └── authStore.ts      # 认证状态（登录状态、Token、用户名）
│   │
│   ├── types/                 # TypeScript类型定义
│   │   └── index.ts          # 所有类型定义（与后端DTO对应）
│   │
│   ├── utils/                 # 工具函数
│   │   └── request.ts        # Axios封装（请求/响应拦截、错误处理）
│   │
│   ├── App.tsx               # 应用主组件（路由配置）
│   ├── main.tsx              # 入口文件
│   └── index.css             # 全局样式
│
├── index.html                # HTML模板
├── package.json              # 依赖配置
├── vite.config.ts            # Vite配置（代理、端口）
├── tsconfig.json             # TypeScript配置
└── README.md                 # 项目文档
```

## 🔧 技术栈说明

### 核心框架
- **React 18** - 最新版本的React，使用函数组件和Hooks
- **TypeScript** - 类型安全，提高代码质量

### UI框架
- **Ant Design 5** - 企业级UI组件库，提供丰富的组件
- **@ant-design/icons** - Ant Design图标库

### 路由
- **React Router 6** - 客户端路由，支持嵌套路由、路由守卫

### 状态管理
- **Zustand** - 轻量级状态管理，用于管理认证状态

### HTTP请求
- **Axios** - HTTP客户端，封装了请求拦截、响应拦截、错误处理

### 日期处理
- **Day.js** - 轻量级日期处理库，用于格式化日期

### 构建工具
- **Vite** - 快速的构建工具，开发体验好

## 🔌 API对接说明

### 请求封装（`utils/request.ts`）

1. **请求拦截器**
   - 自动从localStorage获取Token
   - 自动添加到请求头的Authorization字段
   - 格式：`Bearer <token>`

2. **响应拦截器**
   - 统一处理响应数据
   - 提取`data`字段返回
   - 统一错误处理（401跳转登录、403提示无权限等）

3. **错误处理**
   - 网络错误提示
   - HTTP状态码错误提示
   - 业务错误提示

### API接口定义

所有API接口都在 `api/` 目录下定义，与后端Controller一一对应：

- `auth.ts` - 对应 `AuthController`
- `employee.ts` - 对应 `EmployeeController`

### 类型定义

所有TypeScript类型定义在 `types/index.ts`，与后端DTO保持一致：

- `Employee` - 对应 `EmployeeResponse`
- `EmployeeCreateRequest` - 对应 `EmployeeCreateRequest`
- `EmployeeUpdateRequest` - 对应 `EmployeeUpdateRequest`
- `ApiResult<T>` - 对应 `Result<T>`
- `AuthResponse` - 对应 `AuthResponse`

## 🎨 UI设计说明

### 布局结构

```
┌─────────────────────────────────────┐
│  Header (顶部导航栏)                 │
│  [菜单] [用户信息]                   │
├──────────┬──────────────────────────┤
│          │                          │
│ Sidebar  │  Content (内容区域)      │
│ (侧边栏) │                          │
│          │                          │
│ - 员工管理│  - 员工列表              │
│ - 数据统计│  - 员工表单              │
│          │  - 统计图表              │
│          │                          │
└──────────┴──────────────────────────┘
```

### 页面说明

1. **登录页** (`Login.tsx`)
   - 居中卡片布局
   - 渐变背景
   - 用户名、密码输入
   - 登录按钮
   - 注册链接

2. **注册页** (`Register.tsx`)
   - 与登录页类似布局
   - 用户名、密码、邮箱输入
   - 表单验证
   - 注册按钮

3. **员工列表页** (`EmployeeList.tsx`)
   - 卡片布局
   - 搜索栏（姓名、部门）
   - 新增按钮
   - 表格展示
   - 操作列（编辑、删除）

4. **员工表单页** (`EmployeeForm.tsx`)
   - 卡片布局
   - 返回按钮
   - 表单字段（姓名、性别、年龄、部门、职位、入职日期、薪资）
   - 表单验证
   - 提交/取消按钮

5. **统计页** (`Statistics.tsx`)
   - 统计卡片（总员工数、平均薪资）
   - 部门人数统计表格
   - 部门平均薪资统计表格

## 🔐 认证流程

```
1. 用户访问页面
   ↓
2. 检查是否登录（检查localStorage中的Token）
   ↓
3. 未登录 → 跳转到登录页
   已登录 → 显示内容
   ↓
4. 用户登录
   ↓
5. 调用登录API
   ↓
6. 保存Token到localStorage和Zustand Store
   ↓
7. 跳转到员工列表页
   ↓
8. 后续请求自动携带Token
```

## 📝 代码注释说明

所有代码文件都包含详细的中文注释：

1. **文件头部注释**
   - 文件用途说明
   - 主要功能描述

2. **函数注释**
   - 函数功能说明
   - 参数说明
   - 返回值说明

3. **关键代码注释**
   - 业务逻辑说明
   - 技术实现说明

## 🚀 启动步骤

### 1. 安装依赖

```bash
cd frontend
npm install
```

### 2. 启动开发服务器

```bash
npm run dev
```

### 3. 访问应用

打开浏览器访问：`http://localhost:3000`

## ⚙️ 配置说明

### Vite配置 (`vite.config.ts`)

- **端口**：3000
- **代理**：`/api` 代理到 `http://localhost:8080`
- **解决CORS问题**：通过代理转发请求

### TypeScript配置 (`tsconfig.json`)

- **严格模式**：启用
- **JSX**：React JSX
- **目标**：ES2020

## 🐛 调试技巧

### 1. 浏览器开发者工具

- **Console**：查看JavaScript错误和日志
- **Network**：查看API请求和响应
- **Application**：查看localStorage中的Token

### 2. 后端日志

- 查看后端控制台输出的SQL语句
- 查看异常堆栈信息

### 3. 前后端联调

- 先测试后端接口（使用Postman）
- 再测试前端调用
- 检查网络请求和响应

## 📚 相关文档

- `README.md` - 项目文档
- `前后端联调指南.md` - 详细的联调说明
- `快速启动.md` - 快速启动指南

## ✨ 后续优化建议

1. **功能增强**
   - 添加员工详情页面
   - 添加批量操作功能
   - 添加数据导出功能（Excel、PDF）
   - 添加员工头像上传

2. **用户体验**
   - 优化移动端体验
   - 添加加载动画
   - 添加操作提示音效
   - 优化表单验证提示

3. **性能优化**
   - 代码分割（React.lazy）
   - 图片懒加载
   - 列表虚拟滚动
   - 请求防抖/节流

4. **功能扩展**
   - 添加权限管理
   - 添加操作日志
   - 添加数据备份/恢复
   - 添加邮件通知

## 📞 技术支持

如有问题，请：
1. 查看 `前后端联调指南.md`
2. 检查浏览器控制台错误
3. 检查后端日志
4. 检查网络请求

---

**项目版本：** v1.0.0  
**最后更新：** 2025-12-29  
**作者：** AI Assistant






















